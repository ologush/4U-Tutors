(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{286:function(e,t,a){e.exports=a(440)},291:function(e,t,a){},292:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},293:function(e,t,a){},438:function(e,t,a){},439:function(e,t,a){},440:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),i=(a(291),a(71)),l=a(5),u=a(60),s=(a(292),a(293),a(69)),m=a(35),d=a(131),h=a.n(d),f=a(10),p=a.n(f),E=function(e){e?p.a.defaults.headers.common.Authorization=e:delete p.a.defaults.headers.common.Authorization},b=function(e){return{type:"SET_CURRENT_USER",payload:e}},g=function(){return function(e){console.log("logout"),localStorage.removeItem("jwtToken"),E(!1),e(b({}))}},v=a(14),O=a(77),j=a(257),S=a(144),y={isAuthenticated:!1,user:{},loading:!1},C={},k=a(144),D={isLesson:!1,lesson:{},loading:!1},w=Object(O.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(u.a)(Object(u.a)({},e),{},{isAuthenticated:!S(t.payload),user:t.payload});case"USER_LOADING":return Object(u.a)(Object(u.a)({},e),{},{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},lesson:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_LESSON":return Object(u.a)(Object(u.a)({},e),{},{isLesson:!k(t.payload),lesson:t.payload});case"LESSON_LOADING":return Object(u.a)(Object(u.a)({},e),{},{loading:!0});default:return e}}}),T=[j.a],L=Object(O.createStore)(w,{},Object(O.compose)(O.applyMiddleware.apply(void 0,T))),x=a(497),P=a(498),I=a(261),N=a.n(I),R=a(495),A=a(496),_=a(442),B=a(93),U=a(262),M=a.n(U),q=a(80),G=a(45),F=a(46),W=a(48),Y=a(47),z=(n.Component,a(518)),H=a(492),K=a(443),V=a(494),Z=a(493),X=a(491),J=a(490),$=a(480),Q=a(481),ee=a(482),te=a(483),ae=a(484),ne=a(485),re=a(486),ce=a(487),oe=a(488),ie=Object(B.a)((function(e){return{drawer:{width:240,flexShrink:0},drawerPaper:{width:240}}})),le=[{name:"Home",path:"/HomePage",icon:r.a.createElement($.a,null)},{name:"Make Posting",path:"/makePosting",icon:r.a.createElement(Q.a,null)},{name:"My Lessons",path:"/displayLessons",icon:r.a.createElement(ee.a,null)},{name:"My Postings",path:"/myPostings",icon:r.a.createElement(te.a,null)},{name:"Past Lessons",path:"/pastLessons",icon:r.a.createElement(ae.a,null)},{name:"Request a Lesson",path:"/requestLesson",icon:r.a.createElement(ne.a,null)},{name:"My Requests",path:"/myRequests",icon:r.a.createElement(re.a,null)},{name:"Pending Payments",path:"/pendingPayments",icon:r.a.createElement(ce.a,null)},{name:"Complaints",path:"/complaints",icon:r.a.createElement(oe.a,null)}];var ue=Object(m.g)((function(e){var t=ie();return r.a.createElement(z.a,{anchor:"left",open:e.open,variant:"persistent",className:t.drawer,classes:{paper:t.drawerPaper}},r.a.createElement("div",null,r.a.createElement(_.a,{onClick:function(t){e.menuState()}},r.a.createElement(J.a,null)),r.a.createElement(X.a,null)),r.a.createElement(H.a,null,le.map((function(t,a){var n=t.name,c=t.path,o=t.icon;return r.a.createElement(K.a,{button:!0,onClick:function(){return function(t){e.menuState(),window.location.href=t}(c)},key:c},r.a.createElement(Z.a,null,o),r.a.createElement(V.a,{primary:n}))}))))})),se=a(269),me=a(3),de=a(499),he=["Account Settings","Logout"],fe=Object(B.a)((function(e){return{appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavinScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})}}}));var pe=Object(v.b)((function(e){return{auth:e.auth,errors:e.errors}}),{logoutUser:g})(Object(m.g)((function(e){var t=fe(),a=Object(n.useState)(null),c=Object(l.a)(a,2),o=c[0],u=c[1],s=Object(n.useState)(!1),m=Object(l.a)(s,2),d=m[0],h=m[1],f=Object(n.useState)(!1),p=Object(l.a)(f,2),E=p[0],b=p[1],g=Object(n.useState)(Object(v.d)((function(e){return e.auth}))),O=Object(l.a)(g,2),j=O[0],S=(O[1],function(t){console.log(j),h((function(e){return!e})),e.handleMenu()}),y=function(t){u(null),S(),b(!1),console.log(t.target.id),"Logout"==t.target.id?function(t){t.preventDefault(),e.setMenu(!0),e.logoutUser()}(t):"Account Settings"==t.target.id?e.history.push("/accountSettings"):e.history.push(t.target.id)};return r.a.createElement(R.a,{position:"fixed",className:Object(me.a)(t.appBar,Object(i.a)({},t.appBarShift,d))},r.a.createElement(A.a,null,r.a.createElement(x.a,{justify:"space-between",container:!0},r.a.createElement(x.a,{item:!0,xs:1},e.auth.isAuthenticated&&r.a.createElement("div",null,r.a.createElement(_.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:S},r.a.createElement(N.a,null)),r.a.createElement(ue,{open:d,menuState:S}))),r.a.createElement(x.a,{item:!0,xs:10},r.a.createElement(q.a,{align:"left",variant:"h4"},"4U Academics")),r.a.createElement(x.a,{item:!0,xs:1},e.auth.isAuthenticated?r.a.createElement("div",null,r.a.createElement(_.a,{edge:"end",color:"inherit","aria-label":"Account",onClick:function(e){u(e.currentTarget),b(!0)}},r.a.createElement(M.a,null)),r.a.createElement(se.a,{id:"account-menu",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:E,onClose:y},he.map((function(e){return r.a.createElement(P.a,{id:e,key:e,onClick:y,selected:"Pyxis"===e},e)})))):r.a.createElement("div",null,r.a.createElement(de.a,{onClick:function(){return e.history.push("/login")},variant:"contained"},"Login"),r.a.createElement(de.a,{onClick:function(){return e.history.push("/register")},variant:"contained"},"Register"))))))}))),Ee=a(53),be=a(500),ge=a(501),ve=a(502),Oe=a(517),je=a(16),Se=a.n(je),ye=a(97),Ce=a(515),ke=a(34),De=a(507),we=function(e){Object(W.a)(a,e);var t=Object(Y.a)(a);function a(){var e;return Object(G.a)(this,a),(e=t.call(this)).state={name:"",email:"",dateOfBirth:Date.now(),password:"",password2:"",errors:{},agreedToTAC:!1},e.onSubmit=e.onSubmit.bind(Object(Ee.a)(e)),e.onChange=e.onChange.bind(Object(Ee.a)(e)),e.onDateChange=e.onDateChange.bind(Object(Ee.a)(e)),e.handleCheckbox=e.handleCheckbox.bind(Object(Ee.a)(e)),e}return Object(F.a)(a,[{key:"handleCheckbox",value:function(e){this.setState({agreedToTAC:e.target.checked})}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"onChange",value:function(e){this.setState(Object(i.a)({},e.target.id,e.target.value))}},{key:"onDateChange",value:function(e){this.setState({dateOfBirth:e})}},{key:"onSubmit",value:function(e){if(e.preventDefault(),this.state.agreedToTAC){var t={name:this.state.name,email:this.state.email,dateOfBirth:this.state.dateOfBirth,password:this.state.password,password2:this.state.password2};this.props.registerUser(t,this.props.history)}else alert("You must agree to the terms and conditions to register")}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement(be.a,null,r.a.createElement(ge.a,null,r.a.createElement(q.a,{variant:"h3"},"Register")),r.a.createElement(ge.a,null,r.a.createElement(q.a,null,"Register for 4UAcademics")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(ve.a,null,r.a.createElement(Oe.a,{error:e.name,onChange:this.onChange,required:!0,id:"name",label:"Name",className:Se()("",{invalid:e.name})}),r.a.createElement("span",{className:"red-text"},e.name)),r.a.createElement(ve.a,null,r.a.createElement(Oe.a,{error:e.email,onChange:this.onChange,required:!0,id:"email",label:"Email",helperText:"Please use a valid Queen's email",className:Se()("",{invalid:e.email})}),r.a.createElement("span",{className:"red-text"},e.email)),r.a.createElement(ve.a,null,r.a.createElement(ke.a,{utils:ye.a},r.a.createElement(De.a,{disableToolBar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"dateOfBirth",label:"Enter your Date of Birth",value:this.state.dateOfBirth,onChange:this.onDateChange,KeyboardButtonProps:{"aria-label":"change-date"}}))),r.a.createElement(ve.a,null,r.a.createElement(Oe.a,{type:"password",error:e.password,onChange:this.onChange,required:!0,id:"password",label:"Password",className:Se()("",{invalid:e.password})}),r.a.createElement("span",{className:"red-text"},e.password)),r.a.createElement(ve.a,null,r.a.createElement(Oe.a,{type:"password",error:e.password2,onChange:this.onChange,required:!0,id:"password2",label:"Confirm Password",className:Se()("",{invalid:e.password2})}),r.a.createElement("span",{className:"red-text"},e.password2)),r.a.createElement(ve.a,null,r.a.createElement(de.a,{type:"Submit"},"Register")),r.a.createElement(q.a,{variant:"h6"},"Please agree to the terms and conditions below:"),r.a.createElement(q.a,{variant:"body1"},"These are the example terms and conditions, will need to update later"),r.a.createElement(ve.a,null,r.a.createElement(Ce.a,{checked:this.state.agreedToTAC,onChange:this.handleCheckbox,color:"primary"}))))}}]),a}(n.Component),Te=Object(v.b)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUser:function(e,t){return function(a){p.a.post("/users/register",e).then((function(e){return t.push("/login")})).catch((function(e){a({type:"GET_ERRORS",payload:e.response.data})}))}}})(Object(m.g)(we)),Le=function(e){Object(W.a)(a,e);var t=Object(Y.a)(a);function a(){var e;return Object(G.a)(this,a),(e=t.call(this)).state={email:"",password:"",errors:{}},e.onSubmit=e.onSubmit.bind(Object(Ee.a)(e)),e.onChange=e.onChange.bind(Object(Ee.a)(e)),e}return Object(F.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(i.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};this.props.loginUser(t)}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement(be.a,null,r.a.createElement(ge.a,null,r.a.createElement(q.a,{variant:"h3"},"Login")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(ve.a,null,r.a.createElement(Oe.a,{error:e.email,id:"email",onChange:this.onChange,label:"Email",helperText:"Please provide a valid account email",className:Se()("",{invalid:e.email||e.emailNotFound})}),r.a.createElement("span",{className:"red-text"},e.email,e.emailNotFound)),r.a.createElement(ve.a,null,r.a.createElement(Oe.a,{type:"password",error:e.password,id:"password",onChange:this.onChange,label:"Password",className:Se()("",{invalid:e.password||e.passwordIncorrect})}),r.a.createElement("span",{className:"red-text"},e.password,e.passwordIncorrect)),r.a.createElement(ve.a,null,r.a.createElement(de.a,{type:"Submit",variant:"contained",color:"primary"},"Login"))))}}]),a}(n.Component),xe=Object(v.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:function(e){return function(t){p.a.post("/users/login",e).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),E(a);var n=h()(a);console.log(n),t(b(n))})).catch((function(e){t({type:"GET_ERRORS",payload:e.response.data})}))}}})(Le),Pe=a(271);var Ie=function(e){return r.a.createElement(x.a,{container:!0,spacing:2,direction:"column"},r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(Pe.a,null,r.a.createElement(q.a,{variant:"h5"},"About Us"),r.a.createElement(q.a,{variant:"body1"},"Placeholder"))),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(Pe.a,null,r.a.createElement(q.a,{variant:"h5"},"Getting Started"),r.a.createElement(q.a,{variant:"body1"},"Placeholder"))),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(Pe.a,null,r.a.createElement(q.a,{variant:"h5"},"Tutor of the Week"))))},Ne=a(268),Re=Object(v.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(Ne.a)(e,["component","auth"]);return r.a.createElement(m.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/login"})}}))})),Ae=function(e){Object(W.a)(a,e);var t=Object(Y.a)(a);function a(){return Object(G.a)(this,a),t.call(this)}return Object(F.a)(a,[{key:"onLogoutClick",value:function(e){e.preventDefault(),this.props.logoutUser()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(q.a,{variant:"h1"},"Welcome to the Student Dashboard"))}}]),a}(n.Component),_e=function(e){return{type:"SET_CURRENT_LESSON",payload:e}};var Be=function(e){return r.a.createElement(be.a,null,r.a.createElement(ge.a,null,r.a.createElement(q.a,{variant:"h5"},e.subject),r.a.createElement(q.a,{variant:"h6"},e.date),r.a.createElement(q.a,{variant:"h6"},"With: ",e.tutorName),r.a.createElement(q.a,{variant:"body1"},e.description)),r.a.createElement(ve.a,null,r.a.createElement(de.a,{variant:"contained",onClick:e.onClick},"Enter Lesson"),r.a.createElement(de.a,{variant:"contained",color:"secondary",onClick:e.cancelLesson},"Cancel")))},Ue={weekday:"long",month:"long",day:"numeric"},Me={hour:"numeric",minute:"numeric"};var qe=Object(v.b)((function(e){return{auth:e.auth,errors:e.errors}}),{setCurrentLesson:_e})(Object(m.g)((function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(Object(v.d)((function(e){return e.auth.user}))),u=Object(l.a)(i,2),s=u[0],m=(u[1],Object(n.useState)(!0)),d=Object(l.a)(m,2),h=d[0],f=d[1],E=Object(n.useState)(!1),b=Object(l.a)(E,2),g=(b[0],b[1]);return Object(n.useEffect)((function(){p.a.get("/users/getLessons",{params:{studentID:s.id}}).then((function(e){e.data.length>0?(console.log(e.data),o(e.data),g(!0),f(!1)):f(!1)}))}),[]),r.a.createElement(x.a,{container:!0,spacing:2},h?r.a.createElement(q.a,{variant:"h5"},"Loading..."):c.map((function(t,a){var n=new Date(t.dateAndTime),o=n.toLocaleDateString("en-CA",Ue)+", "+n.toLocaleTimeString("en-CA",Me);return r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(Be,{date:o,subject:t.subject,tutorName:t.tutorName,onClick:function(){return function(t,a){e.setCurrentLesson(c[a]),e.history.push("/videoChat/"+t)}(t._id,a)},cancelLesson:function(){return e=t._id,void p.a.post("/lesson/student/cancel",{lessonID:e}).then((function(e){window.location.reload()})).catch((function(e){return console.log(e)}));var e}}))})))}))),Ge=a(43),Fe=a(263),We=a.n(Fe),Ye=function(e){Object(W.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;Object(G.a)(this,a),n=t.call(this,e);var r=[];return n.props.addedEmails.forEach((function(e,t){r.push({email:e,_id:n.props.addedStudentIDs[t]})})),n.state={currentEmailEntry:"",addedUsers:r},n.handleChange=n.handleChange.bind(Object(Ee.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(Ee.a)(n)),n.deleteStudent=n.deleteStudent.bind(Object(Ee.a)(n)),n}return Object(F.a)(a,[{key:"handleChange",value:function(e){this.setState({currentEmailEntry:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this,a={email:this.state.currentEmailEntry};p.a.post("/users/findUserByEmail",a).then((function(e){console.log("a");var a={email:e.data.email,_id:e.data._id};t.setState((function(e){return{addedUsers:[].concat(Object(Ge.a)(e.addedUsers),[a]),currentEmailEntry:""}})),t.props.addStudent(a)})).catch((function(e){console.log(e)}))}},{key:"deleteStudent",value:function(e){var t=e._id;this.setState((function(e){return{addedUsers:e.addedUsers.filter((function(e,a){return e._id!=t}))}})),this.props.deleteStudent(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.addedUsers.map((function(t){return r.a.createElement("div",null,r.a.createElement(q.a,{variant:"h6"},t.email),r.a.createElement(_.a,{"aria-label":"delete",onClick:function(){return e.deleteStudent(t)}},r.a.createElement(We.a,null)))})),r.a.createElement(Oe.a,{disabled:this.props.maxEmails<=this.state.addedUsers.length,value:this.state.currentEmailEntry,onChange:this.handleChange}),r.a.createElement(de.a,{onClick:this.handleSubmit},"Add"))}}]),a}(n.Component);Ye.defaultProps={isEnabled:!0};var ze=Ye,He=a(509),Ke=a(514),Ve=a(513),Ze=a(163),Xe=a(508),Je={weekday:"long",month:"long",day:"numeric"},$e={hour:"numeric",minute:"numeric"};var Qe=function(e){var t=Object(n.useState)(new Date),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],m=u[1];return Object(n.useEffect)((function(){var t=[];e.alreadySelectedDates.forEach((function(e,a){t.push(new Date(e))})),m(t)}),[]),r.a.createElement("div",null,r.a.createElement(ke.a,{utils:ye.a},r.a.createElement(Ve.a,{onChange:function(e){console.log("date handled"),o(e)},minDate:Object(Ze.a)(Date.now(),{days:1}),maxDate:Object(Ze.a)(Date.now(),{weeks:2,days:1}),value:c,onAccept:function(t){var a=new Date(t);a.setMilliseconds(0),a.setSeconds(0),s.includes(a)||(m((function(e){return[].concat(Object(Ge.a)(e),[a])})),e.addDate(a))}})),console.log(s),";",s.map((function(t,a){return r.a.createElement("div",null,r.a.createElement(q.a,{variant:"h5"},t.toLocaleDateString("en-CA",Je)," at ",t.toLocaleTimeString("en-CA",$e)),r.a.createElement(_.a,{"aria-label":"delete",size:"small",onClick:function(){return a=t,m(s.filter((function(e){return a.valueOf()!=e.valueOf()}))),void e.removeDate(a);var a}},r.a.createElement(Xe.a,null)))})))},et=(a(144),a(505)),tt=a(444),at=[{name:"Science",checked:!1,key:"science"},{name:"Math",checked:!1,key:"math"},{name:"English",checked:!1,key:"english"},{name:"Programming",checked:!1,key:"programming"},{name:"Technology",checked:!1,key:"technology"},{name:"Business",checked:!1,key:"business"}],nt=(n.Component,[{name:"Science",checked:!1,key:"science"},{name:"Math",checked:!1,key:"math"},{name:"English",checked:!1,key:"english"},{name:"Programming",checked:!1,key:"programming"},{name:"Technology",checked:!1,key:"technology"},{name:"Business",checked:!1,key:"business"}]),rt=[{amount:2,cost:45},{amount:3,cost:65},{amount:4,cost:85},{amount:5,cost:105}],ct=["SINGLE","GROUP"],ot={science:!1,math:!1,english:!1,programming:!1,technology:!1,business:!1};var it=function(e){var t=Object(n.useState)(Object(v.d)((function(e){return e.auth.user.id}))),a=Object(l.a)(t,2),c=a[0],o=(a[1],Object(n.useState)("")),i=Object(l.a)(o,2),u=i[0],s=i[1],m=Object(n.useState)(new Map),d=Object(l.a)(m,2),h=d[0],f=d[1],E=Object(n.useState)(""),b=Object(l.a)(E,2),g=b[0],O=b[1],j=Object(n.useState)(""),S=Object(l.a)(j,2),y=S[0],C=S[1],k=Object(n.useState)(Object(v.d)((function(e){return e.auth.user.name}))),D=Object(l.a)(k,2),w=D[0],T=(D[1],Object(n.useState)([])),L=Object(l.a)(T,2),x=L[0],I=L[1],N=Object(n.useState)([]),R=Object(l.a)(N,2),A=R[0],_=R[1],B=Object(n.useState)(""),U=Object(l.a)(B,2),M=U[0],G=U[1],F=Object(n.useState)(1),W=Object(l.a)(F,2),Y=W[0],z=W[1],H=Object(n.useState)([]),K=Object(l.a)(H,2),V=K[0],Z=K[1],X=Object(n.useState)(0),J=Object(l.a)(X,2),$=J[0],Q=J[1],ee=Object(n.useState)(!0),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ce=Object(l.a)(re,2),oe=ce[0],ie=ce[1];Object(n.useEffect)((function(){if(e.match.params.postingID){console.log("isEdit");var t=e.match.params.postingID;p.a.get("/match/user/postingByID",{params:{postingID:t}}).then((function(e){var t=e.data;s(t.course),O(t.description),C(t.year),I(t.otherStudentEmails),_(t.otherStudentIDs),G(t.type),z(t.numberOfParticipants);var a=[];t.availableTimes.forEach((function(e){var t=new Date(e);a.push(t)})),Z(a);var n=Object.keys(ot),r=new Map;n.forEach((function(e){t.infoTags.includes(e)&&f(h.set(e,!0))})),f(new Map(h)),ie(!0),console.log(r),console.log(h),ne(!1)})).catch((function(e){return console.log(e)}))}else ne(!1)}),[]);var le=function(){var t=[];h.forEach((function(e,a){e&&t.push(a)}));var a={studentID:c,course:u,description:g,year:y,studentName:w,infoTags:t,type:M,availableTimes:V,otherStudentIDs:A,numberOfParticipants:Y,numberOfRecurringLessons:$,otherStudentEmails:x};p.a.post("/match/addPosting",a).then((function(t){e.history.push("/myPostings")})).catch((function(e){return console.log(e)}))},ue=function(){var t=[];h.forEach((function(e,a){e&&t.push(a)}));var a={studentID:c,course:u,description:g,year:y,studentName:w,infoTags:t,postingID:e.match.params.postingID,type:M,availableTimes:V,otherStudentIDs:A,numberOfParticipants:Y,numberOfRecurringLessons:$,otherStudentEmails:x};console.log(a),p.a.post("/match/editPosting",a).then((function(e){})).catch((function(e){return console.log(e)}))},se=function(e){var t=e.target,a=t.id,n=t.checked;f(new Map(h.set(a,n)))},me=function(e){var t=e.target.name,a=e.target.value;switch(t){case"LESSON_TYPE":G(a);break;case"GROUP_SIZE":z(a);break;case"RECURRING_NUMBER":Q(a)}};return r.a.createElement("div",null,ae?r.a.createElement(q.a,{variant:"h5"},"Loading..."):r.a.createElement("div",null,r.a.createElement(q.a,{variant:"h3"},"Make a Posting for a Tutor"),r.a.createElement("form",{onSubmit:oe?ue:le},r.a.createElement(Oe.a,{value:u,onChange:function(e){s(e.target.value)},required:!0,id:"course",label:"Course"}),nt.map((function(e){return r.a.createElement(He.a,{control:r.a.createElement(Ce.a,{name:e.name,id:e.key,checked:h.get(e.key),onChange:se}),label:e.name})})),r.a.createElement(q.a,{variant:"h4"},"Select Lesson Type:"),r.a.createElement(Ke.a,{onChange:me,value:M,name:"LESSON_TYPE"},ct.map((function(e){return r.a.createElement(P.a,{value:e},"LessonType: ",e)}))),"GROUP"===M?r.a.createElement("div",null,r.a.createElement(q.a,{variant:"h4"},"Select Number of Participants: "),r.a.createElement(Ke.a,{onChange:me,value:Y,name:"GROUP_SIZE"},rt.map((function(e){return r.a.createElement(P.a,{value:e.amount},"Participants: ",e.amount,", Cost: ",e.cost)}))),r.a.createElement(q.a,{variant:"h4"},"Enter the participants emails associated with their account"),r.a.createElement(ze,{addStudent:function(e){console.log(x),I((function(t){return[].concat(Object(Ge.a)(t),[e.email])})),_((function(t){return[].concat(Object(Ge.a)(t),[e._id])}))},deleteStudent:function(e){I(x.filter((function(t){return e.email!=t}))),_(A.filter((function(t){return e._id!=t})))},maxEmails:Y-1,addedEmails:x,addedStudentIDs:A})):null,r.a.createElement(q.a,{variant:"h4"},"Select the times you are available:"),r.a.createElement(Qe,{addDate:function(e){Z((function(t){return[].concat(Object(Ge.a)(t),[e])}))},removeDate:function(e){Z(V.filter((function(t){return e.valueOf()!=t.valueOf()})))},alreadySelectedDates:V}),r.a.createElement(Oe.a,{value:g,onChange:function(e){O(e.target.value)},multiline:!0,rows:5,required:!0,id:"description",label:"Description",fullWidth:!0,style:{margin:8}}),r.a.createElement(Oe.a,{value:y,onChange:function(e){C(e.target.value)},required:!0,id:"year",label:"Year"}),oe?r.a.createElement(de.a,{variant:"contained",color:"primary",onClick:ue},"Edit Posting"):r.a.createElement(de.a,{variant:"contained",color:"primary",onClick:le},"Submit Posting"))))},lt=a(79),ut=a.n(lt),st=a(110),mt={hour:"numeric",minute:"numeric"},dt=function(e){var t=e.username,a=(e.handleUsernameChange,e.roomName),n=(e.handleRoomNameChange,e.handleSubmit),c=e.date;e.description;return r.a.createElement(Pe.a,null,r.a.createElement("form",{onSubmit:n},r.a.createElement(q.a,{variant:"h4"},"Welcome ",t," to the lesson lobby. Your lesson is scheduled to begin at",c.toLocaleTimeString("en-CA",mt),". Click the Begin Lesson Button to enter the lesson."),r.a.createElement(q.a,{variant:"h5"},"Course: ",a),r.a.createElement(de.a,{type:"submit"},"Begin Lesson")))},ht=a(264),ft=a.n(ht),pt=(a(418),a(438),function(e){var t=e.participant,a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)([]),s=Object(l.a)(u,2),m=(s[0],s[1]),d=Object(n.useRef)(),h=Object(n.useRef)(),f=function(e){return Array.from(e.values()).map((function(e){return e.track})).filter((function(e){return null!==e}))};return Object(n.useEffect)((function(){return i(f(t.videoTracks)),m(f(t.audioTracks)),t.on("trackSubscribed",(function(e){"video"===e.kind?i((function(t){return[].concat(Object(Ge.a)(t),[e])})):m((function(t){return[].concat(Object(Ge.a)(t),[e])}))})),t.on("trackUnsubscribed",(function(e){"video"===e.kind?i((function(t){return t.filter((function(t){return t!==e}))})):m((function(t){return t.filter((function(t){return t!==e}))}))})),function(){i([]),m([]),t.removeAllListeners()}}),[t]),Object(n.useEffect)((function(){var e=o[0];if(e)return e.attach(d.current),function(){e.detach()}}),[o]),r.a.createElement("div",{className:"participant"},r.a.createElement("video",{ref:d,autoPlay:!0,height:"100%",width:"100%"}),r.a.createElement("audio",{ref:h,autoPlay:!0,muted:!0}))}),Et=a(510);function bt(e){var t=function(){(new Date).getFullYear();var t=e.startTime.getTime()+36e5;console.log(e.startTime);var a=+new Date(t)-+new Date,n={};if(console.log(a),a>0)n={days:Math.floor(a/864e5),hours:Math.floor(a/36e5%24),minutes:Math.floor(a/1e3/60%60),seconds:Math.floor(a/1e3%60)},console.log(n);else if(a>-3e5){var r=+new Date(t+3e5)-+new Date;n={hours:Math.floor(r/36e5%24),minutes:Math.floor(r/1e3/60%60),seconds:Math.floor(a/1e3%60)+60},o||i(!0)}else a<-3e5&&e.onTimeOut();return n},a=Object(n.useState)(!1),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(t()),s=Object(l.a)(u,2),m=s[0],d=s[1];return Object(n.useEffect)((function(){setTimeout((function(){d(t())}),1e3)})),r.a.createElement("div",null,r.a.createElement(Pe.a,null,r.a.createElement(q.a,{variant:"body1"},"Time Left: ",m.hours,":",m.minutes,":",m.seconds)))}bt.defaultProps={startTime:new Date(Date.now())};var gt=bt,vt=(a(439),function(e){var t=e.roomName,a=e.token,c=e.handleLogout,o=e.subject,i=e.startTime,u=Object(n.useState)(null),s=Object(l.a)(u,2),m=s[0],d=s[1],h=Object(n.useState)([]),f=Object(l.a)(h,2),p=f[0],E=f[1];Object(n.useEffect)((function(){var e=function(e){E((function(t){return[].concat(Object(Ge.a)(t),[e])}))},n=function(e){E((function(t){return t.filter((function(t){return t!=e}))}))};return ft.a.connect(a,{name:t}).then((function(t){d(t),t.on("participantConnected",e),t.on("participantDisconnected",n),t.participants.forEach(e)})),function(){d((function(e){return e&&"connected"===e.localParticipant.state?(e.localParticipant.tracks.forEach((function(e){e.track.stop()})),e.disconnect(),null):e}))}}),[t,a]);var b=p.map((function(e){return r.a.createElement(pt,{key:e.sid,participant:e})}));return r.a.createElement(x.a,{container:!0,spacing:2},r.a.createElement(x.a,{item:!0,container:!0,xs:11},b.length>3?b.map((function(e){return r.a.createElement(x.a,{item:!0,xs:4},e)})):b.map((function(e){return r.a.createElement(x.a,{item:!0,xs:12/b.length},e)}))),r.a.createElement(x.a,{item:!0,container:!0,xs:1,direction:"column",wrap:"nowrap"},r.a.createElement(be.a,null,r.a.createElement(ge.a,null,r.a.createElement(q.a,{variant:"h6"},"Room: ",o),r.a.createElement(gt,{startTime:new Date(i),onTimeOut:function(){c()}})),r.a.createElement(Et.a,null,m?r.a.createElement(pt,{key:m.localParticipant.sid,participant:m.localParticipant}):""),r.a.createElement(ve.a,null,r.a.createElement(de.a,{variant:"contained",onClick:c},"Exit Lesson")))))}),Ot=function(e){var t=e.match.params.lessonID,a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(t),s=Object(l.a)(u,2),m=s[0],d=s[1],h=Object(n.useState)(null),f=Object(l.a)(h,2),E=f[0],b=f[1],g=Object(n.useState)({}),O=Object(l.a)(g,2),j=O[0],S=O[1],y=Object(n.useState)(!0),C=Object(l.a)(y,2),k=C[0],D=C[1],w=Object(v.d)((function(e){return e.auth.user}));console.log(w);var T=Object(v.c)();Object(n.useEffect)((function(){p.a.get("/lesson/user/lessonByID",{params:{lessonID:t}}).then((function(e){S(e.data),D(!1)})).catch((function(e){return console.log(e)}))}),[]);var L,x=Object(n.useCallback)((function(e){i(e.target.value)}),[]),P=Object(n.useCallback)((function(e){d(e.target.value)}),[]),I=Object(n.useCallback)(function(){var e=Object(st.a)(ut.a.mark((function e(a){var n;return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),console.log(j),n={identity:w.email,lessonID:t,studentID:w.id,studentName:w.name,studentEmail:w.email,startTime:j.dateAndTime,subject:j.subject},p.a.post("/videoChat/user/token",n).then((function(e){b(e.data)})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,m,j]),N=Object(n.useCallback)((function(e){b(null);var a={lessonID:t};p.a.post("/users/lessonOver",a).then((function(e){console.log(e),T((function(e){e(_e({}))})),window.location.href="/postLesson/"+t})).catch((function(e){return console.log(e)}))}),[]);return L=E?r.a.createElement(vt,{roomName:m,token:E,handleLogout:N,subject:j.subject,startTime:j.dateAndTime}):r.a.createElement("div",null,r.a.createElement(dt,{username:w.name,roomName:j.subject,handleUsernameChange:x,handleRoomNameChange:P,handleSubmit:I,date:new Date(j.dateAndTime)})),r.a.createElement("div",null,k?r.a.createElement(q.a,{variant:"h5"},"Loading..."):L)};var jt=function(e){var t=e.tags.reduce((function(e,t){return e+t+", "}),"");return r.a.createElement(be.a,null,r.a.createElement(ge.a,null,r.a.createElement(q.a,{variant:"h5"},e.course),r.a.createElement(q.a,{variant:"body1"},e.description),r.a.createElement(q.a,{variant:"h6"},t)),r.a.createElement(ve.a,null,r.a.createElement(de.a,{variant:"contained",onClick:e.selectBid},"Select Bid"),r.a.createElement(de.a,{variant:"contained",onClick:e.onEdit},"Edit Posting"),r.a.createElement(de.a,{variant:"contained",color:"secondary",onClick:e.onDelete},"Delete Posting")))};var St=Object(v.b)((function(e){return{auth:e.auth}}))(Object(m.g)((function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!0),u=Object(l.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)(Object(v.d)((function(e){return e.auth.user}))),h=Object(l.a)(d,2),f=h[0],E=(h[1],Object(n.useState)(!1)),b=Object(l.a)(E,2),g=(b[0],b[1]);return Object(n.useEffect)((function(){p.a.post("/users/getPostings",{studentID:f.id}).then((function(e){e.data.length>0?(console.log(e.data),o(e.data),g(!0),m(!1)):m(!1)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement(x.a,{container:!0,spacing:2},s?r.a.createElement(q.a,{variant:"h5"},"Loading..."):c.map((function(t,a){return r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(jt,{course:t.course,description:t.description,tags:t.infoTags,onDelete:function(){return e=t._id,void p.a.post("/users/deletePosting",{postingID:e}).then((function(e){window.location.reload()})).catch((function(e){return console.log(e)}));var e},onEdit:function(){return a=t._id,void e.history.push("/editPosting/"+a);var a},selectBid:function(){return a=t._id,void e.history.push("/selectBid/"+a);var a}}))})))}))),yt=a(59),Ct={hidePostalCode:!0,style:{base:{color:"#ffffff",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#ffffff"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}};var kt=function(){return r.a.createElement("label",null,"Card details",r.a.createElement(yt.CardElement,{options:Ct}))},Dt={month:"long",weekday:"long",day:"numeric"},wt={hour:"numeric",minute:"numeric"};var Tt=function(e){var t=Object(yt.useStripe)(),a=Object(yt.useElements)(),c=Object(n.useState)(""),o=Object(l.a)(c,2),i=o[0],u=o[1],s=Object(n.useState)(""),m=Object(l.a)(s,2),d=m[0],h=m[1];Object(n.useEffect)((function(){h(e.date.toLocaleDateString("en-CA",Dt)+", "+e.date.toLocaleTimeString("en-CA",wt)),p.a.get("/payments/secret",{params:{cost:e.cost}}).then((function(e){u(e.data.client_secret)})).catch((function(e){return console.log(e)}))}),[]);var f=function(){var n=Object(st.a)(ut.a.mark((function n(r){var c;return ut.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),console.log("Processing Payment..."),t&&a){n.next=5;break}return console.log("damn"),n.abrupt("return");case 5:return n.next=7,t.confirmCardPayment(i,{payment_method:{card:a.getElement(yt.CardElement)}});case 7:c=n.sent,console.log(c),c.error?console.log(c.error.message):"succeeded"===c.paymentIntent.status&&(console.log("great success"),e.onPay());case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:f},r.a.createElement(Pe.a,null,r.a.createElement(kt,null),r.a.createElement(X.a,null),r.a.createElement(q.a,{variant:"h5"},"Cost: $",e.cost),r.a.createElement(q.a,{variant:"h5"},"At: ",d),r.a.createElement(q.a,{variant:"h5"},"For: ",e.course),r.a.createElement(de.a,{disabled:!t,type:"submit"},"Confirm Order")))},Lt=function(e){Object(W.a)(a,e);var t=Object(Y.a)(a);function a(e){return Object(G.a)(this,a),t.call(this,e)}return Object(F.a)(a,[{key:"render",value:function(){var e=new Date(this.props.date);return r.a.createElement(be.a,null,r.a.createElement(ge.a,null,r.a.createElement(q.a,{variant:"h5"}," ",this.props.tutorName," "),r.a.createElement(q.a,{variant:"h6"},"Rating: ",this.props.tutorRating),r.a.createElement(q.a,{variant:"h6"},"Description: ",this.props.tutorDescription),r.a.createElement(q.a,{variant:"h6"},"Date: ",e.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})),r.a.createElement(q.a,{variant:"h6"},"Time: ",e.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric"}))),r.a.createElement(ve.a,null,r.a.createElement(de.a,{variant:"contained",color:"primary",onClick:this.props.submit},"Book!")))}}]),a}(n.Component),xt=a(265);n.Component;var Pt=function(e){var t=e.match.params.postingID,a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(!1),s=Object(l.a)(u,2),m=s[0],d=s[1],h=Object(n.useState)({}),f=Object(l.a)(h,2),E=f[0],b=f[1],g=Object(n.useState)(!1),v=Object(l.a)(g,2),O=v[0],j=v[1],S=Object(n.useState)({}),y=Object(l.a)(S,2),C=y[0],k=y[1];return Object(n.useEffect)((function(){p.a.post("/match/getBids",{postingID:t}).then((function(e){i(e.data),d(!0)})).catch((function(e){return console.log(e)})),p.a.get("/match/user/postingByID",{params:{postingID:t}}).then((function(e){k(e.data)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement("div",null,O?r.a.createElement(Tt,{onPay:function(){var e={tutorID:E.tutorID,dateAndTime:E.date,tutorName:E.tutorName,postingID:E.postingID,tutorEmail:E.tutorEmail};p.a.post("/match/selectBid",e).then((function(e){window.location.href="/displayLessons"})).catch((function(e){return console.log(e)}))},cost:C.cost,date:new Date(E.date),course:C.course}):r.a.createElement("div",null,m?r.a.createElement(x.a,{container:!0},o.map((function(e,t){return r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(Lt,{tutorRating:e.tutorRating,tutorDescription:e.tutorDescription,tutorName:e.tutorName,index:t,date:e.date,submit:function(){return function(e){b(e),j(!0)}(e)}}))}))):r.a.createElement(q.a,{variant:"h5"}," Loading... ")))};var It=function(e){var t=e.match.params.lessonID,a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(null),s=Object(l.a)(u,2),m=s[0],d=s[1],h=Object(n.useState)(!1),f=Object(l.a)(h,2),E=(f[0],f[1]),b=Object(n.useState)({}),g=Object(l.a)(b,2),O=(g[0],g[1]),j=Object(n.useState)(Object(v.d)((function(e){return e.auth.user}))),S=Object(l.a)(j,2),y=S[0],C=(S[1],Object(n.useState)(!1)),k=Object(l.a)(C,2);return k[0],k[1],Object(n.useEffect)((function(){p.a.get("/lesson/user/lessonByID",{params:{lessonID:t}}).then((function(e){O(e.data)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement(Pe.a,null,r.a.createElement(q.a,{variant:"h5"},"Rating: "),r.a.createElement(Ke.a,{value:m,onChange:function(e){d(e.target.value)}},r.a.createElement(P.a,{value:1},"1"),r.a.createElement(P.a,{value:2},"2"),r.a.createElement(P.a,{value:3},"3"),r.a.createElement(P.a,{value:4},"4"),r.a.createElement(P.a,{value:5},"5")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(q.a,{variant:"h5"},"Feedback:"),r.a.createElement("br",null),r.a.createElement(Oe.a,{onChange:function(e){i(e.target.value)},value:o}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{onClick:function(a){if(console.log("a"),E(!0),null==m)alert("You must assign a rating to the tutor");else{var n={lessonID:t,rating:m,feedback:o,studentID:y.id};p.a.post("/tutors/giveFeedback",n).then((function(t){console.log(t),E(!0),e.history.push("/pastLessons")})).catch((function(e){return console.log(e)}))}},disabled:null==m},"Submit Feedback"))};var Nt=function(e){return r.a.createElement(be.a,null,r.a.createElement(ge.a,null,r.a.createElement(q.a,{variant:"h5"},"With: ",e.tutorEmail),r.a.createElement("br",null),r.a.createElement(q.a,{variant:"h5"},"On: ",e.date)),r.a.createElement(ve.a,null,r.a.createElement(de.a,{onClick:e.onRequest},"Request Another Lesson"),r.a.createElement(de.a,{onClick:e.complain},"File a Complaint")))},Rt={hour:"numeric",minute:"numeric"},At={weekday:"long",month:"long",day:"numeric"};var _t=function(e){var t=Object(n.useState)(Object(v.d)((function(e){return e.auth.user}))),a=Object(l.a)(t,2),c=a[0],o=(a[1],Object(n.useState)([])),i=Object(l.a)(o,2),u=i[0],s=i[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),h=d[0],f=d[1];return Object(n.useEffect)((function(){p.a.get("/users/getPastLessons",{params:{studentID:c.id}}).then((function(e){e.data.length>0&&(s(e.data),f(!0))})).catch((function(e){return console.log(e)}))}),[]),h?r.a.createElement(x.a,{container:!0,spacing:2},u.map((function(e,t){var a=new Date(e.date),n=a.toLocaleDateString("en-CA",At)+", "+a.toLocaleTimeString("en-CA",Rt);return r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(Nt,{tutorEmail:e.tutorEmail,date:n,onRequest:function(){return t=e.tutorID,void(window.location.href="/request/"+t);var t},complain:function(){return t=e._id,void(window.location.href="/complain/"+t);var t}}))}))):r.a.createElement(q.a,{varaint:"h5"},"You have no past lessons, go to the make posting page to get started.")};var Bt=function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){console.log(e),e.fromPastLesson&&(o(e.existingEmail),console.log("a"))}),[]),r.a.createElement(Pe.a,null,r.a.createElement(Oe.a,{value:c,onChange:function(e){o(e.target.value)}}),r.a.createElement(de.a,{onClick:function(t){p.a.get("/tutors/findByEmail",{params:{email:c}}).then((function(t){console.log(t.data),e.onEnter(t.data)})).catch((function(e){404===e.response.status&&alert("You entered an incorrect email")}))}},"Select"))},Ut=[{amount:2,cost:45},{amount:3,cost:65},{amount:4,cost:85},{amount:5,cost:105}],Mt=["SINGLE","GROUP"];var qt=function(e){var t=Object(n.useState)({}),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)(""),h=Object(l.a)(d,2),f=h[0],E=h[1],b=Object(n.useState)([]),g=Object(l.a)(b,2),O=g[0],j=g[1],S=Object(n.useState)(Object(v.d)((function(e){return e.auth.user}))),y=Object(l.a)(S,2),C=y[0],k=(y[1],Object(n.useState)(!0)),D=Object(l.a)(k,2),w=D[0],T=D[1],L=Object(n.useState)(!1),I=Object(l.a)(L,2),N=I[0],R=I[1],A=Object(n.useState)(""),_=Object(l.a)(A,2),B=_[0],U=_[1],M=Object(n.useState)([]),G=Object(l.a)(M,2),F=G[0],W=G[1],Y=Object(n.useState)([]),z=Object(l.a)(Y,2),H=z[0],K=z[1],V=Object(n.useState)(1),Z=Object(l.a)(V,2),X=Z[0],J=Z[1];return Object(n.useEffect)((function(){if(e.match.params.tutorID){var t=e.match.params.tutorID;p.a.get("/users/getTutorByID",{params:{tutorID:t}}).then((function(e){console.log(e.data),R(!0),o(e.data),T(!1)})).catch((function(e){return console.log(e)}))}else T(!1)}),[]),r.a.createElement("div",null,w?r.a.createElement(q.a,{variant:"h5"},"Loading..."):r.a.createElement(x.a,{container:!0,spacing:2,direction:"column"},r.a.createElement(x.a,{item:!0,container:!0,xs:12,spacing:2},r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(Pe.a,null,r.a.createElement(q.a,{variant:"body1"},"Enter Tutor Email and press select"),r.a.createElement(Bt,{onEnter:function(e){o(e)},fromPastLesson:N,existingEmail:c.email}),r.a.createElement(q.a,{variant:"body"},"Select lesson Type"),r.a.createElement(Ke.a,{onChange:function(e){var t=e.target.value;U(t)},value:B,name:"LESSON_TYPE"},Mt.map((function(e){return r.a.createElement(P.a,{value:e},"LessonType: ",e)}))),"GROUP"===B?r.a.createElement("div",null,r.a.createElement(q.a,{variant:"h5"},"Select the number of participants in the group"),r.a.createElement(Ke.a,{onChange:function(e){J(e.target.value)},value:X,name:"GROUP_SIZE"},Ut.map((function(e){return r.a.createElement(P.a,{value:e.amount},"Participants: ",e.amount,", Cost: ",e.cost)}))),r.a.createElement(q.a,{variant:"h5"},"Enter the participating account emails"),r.a.createElement(ze,{addStudent:function(e){K((function(t){return[].concat(Object(Ge.a)(t),[e.email])})),W((function(t){return[].concat(Object(Ge.a)(t),[e._id])}))},deleteStudent:function(e){K(H.filter((function(t){return e.email!=t}))),W(F.filter((function(t){return e._id!=t})))},maxEmails:X-1,addedEmails:H,addedStudentIDs:F})):"")),r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(Pe.a,null,r.a.createElement(Oe.a,{label:"Course",onChange:function(e){return E(e.target.value)},value:f}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Oe.a,{label:"Description",fullWidth:!0,multiline:!0,rows:6,onChange:function(e){return m(e.target.value)},value:s}))),r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(Pe.a,null,r.a.createElement(Qe,{addDate:function(e){j((function(t){return[].concat(Object(Ge.a)(t),[e])}))},removeDate:function(e){j((function(t){return t.filter((function(t){return e.valueOf()!=t.valueOf()}))}))},alreadySelectedDates:O})))),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(de.a,{fullWidth:!0,variant:"contained",onClick:function(){var t={studentID:C.id,studentName:C.name,tutorID:c._id,studentEmail:C.email,tutorEmail:c.email,availableTimes:O,course:f,description:s,tutorName:c.name,otherStudentEmails:H,otherStudentIDs:F,type:B,numberOfParticipants:X};console.log(t),p.a.post("/lesson/addRequest",t).then((function(t){e.history.push("/myRequests")})).catch((function(e){return console.log(e)}))}},"Submit Request"))))};var Gt=a(266);var Ft=function(){return r.a.createElement("div",null,r.a.createElement(q.a,{variant:"h5"},"These are your account settings"))};var Wt=function(e){return r.a.createElement(be.a,null,r.a.createElement(ge.a,null,r.a.createElement(q.a,{variant:"h5"},e.course),r.a.createElement(q.a,{variant:"h6"},e.tutorName),r.a.createElement(q.a,{variant:"h6"},e.tutorEmail),r.a.createElement(X.a,null),r.a.createElement(q.a,{variant:"body1"},e.description)),r.a.createElement(ve.a,null,r.a.createElement(de.a,{variant:"contained",onClick:e.onCancel},"Cancel")))};var Yt=function(e){var t,a=Object(n.useState)(!0),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)([]),s=Object(l.a)(u,2),m=s[0],d=s[1],h=Object(n.useState)(Object(v.d)((function(e){return e.auth.user}))),f=Object(l.a)(h,2),E=f[0],b=(f[1],Object(n.useState)(!1)),g=Object(l.a)(b,2),O=g[0],j=g[1];return Object(n.useEffect)((function(){p.a.get("/users/getRequests",{params:{studentID:E.id}}).then((function(e){d(e.data),i(!1)})).catch((function(e){console.log("damn"),i(!1),j(!0)}))}),[]),t=O?r.a.createElement(q.a,{variant:"h5"},"No Pending Requests"):r.a.createElement(x.a,{container:!0,spacing:2},m.map((function(e){return r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(Wt,{course:e.course,description:e.description,times:e.availableTimes,tutorName:e.tutorName,tutorEmail:e.tutorEmail,onCancel:function(){return t=e._id,void p.a.post("/lesson/cancelRequest",{requestID:t}).then((function(e){window.location.reload()})).catch((function(e){return console.log(e)}));var t}}))}))),r.a.createElement("div",null,o?r.a.createElement(q.a,{variant:"h5"},"Loading..."):t)};var zt=function(e){var t=e.match.params.paymentID;console.log(t);var a=Object(n.useState)(!0),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(Object(v.d)((function(e){return e.auth.user}))),s=Object(l.a)(u,2),m=(s[0],s[1],Object(n.useState)({})),d=Object(l.a)(m,2),h=d[0],f=d[1];return Object(n.useEffect)((function(){p.a.get("/lesson/user/lessonConfirm",{params:{confirmID:t}}).then((function(e){f(e.data),i(!1)}))}),[]),r.a.createElement("div",null,o?r.a.createElement(q.a,{variant:"h5"},"Loading..."):r.a.createElement(Tt,{onPay:function(){p.a.post("/lesson/setLessonFromConfirm",{confirmID:t}).then((function(t){e.history.push("/displayLessons")})).catch((function(e){return console.log(e)}))},course:h.subject,cost:h.cost,date:new Date(h.dateAndTime)}))};var Ht=function(e){return r.a.createElement(be.a,null,r.a.createElement(ge.a,null,r.a.createElement(q.a,{variant:"h5"},e.course),r.a.createElement(q.a,{variant:"h6"},"With: ",e.tutorName),r.a.createElement(X.a,null),r.a.createElement(q.a,{variant:"body1"},e.description)),r.a.createElement(ve.a,null,r.a.createElement(de.a,{variant:"contained",onClick:e.enterPay},"Pay")))},Kt={weekday:"long",month:"long",day:"numeric"},Vt={hour:"numeric",minute:"numeric"};var Zt=function(e){var t=Object(n.useState)(Object(v.d)((function(e){return e.auth.user}))),a=Object(l.a)(t,2),c=a[0],o=(a[1],Object(n.useState)([])),i=Object(l.a)(o,2),u=i[0],s=i[1],m=Object(n.useState)(!0),d=Object(l.a)(m,2),h=d[0],f=d[1],E=Object(n.useState)(!1),b=Object(l.a)(E,2),g=(b[0],b[1]);return Object(n.useEffect)((function(){p.a.get("/users/pendingPayments",{params:{studentID:c.id}}).then((function(e){e.data.length>0?(s(e.data),g(!0),f(!1)):f(!1)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement(x.a,{container:!0,spacing:2},h?r.a.createElement(q.a,{variant:"h5"},"Loading..."):u.map((function(t){var a=new Date(t.dateAndTime),n=a.toLocaleDateString("en-CA",Kt)+", "+a.toLocaleTimeString("en-CA",Vt);return r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(Ht,{course:t.subject,description:t.description,enterPay:function(){return a=t._id,void e.history.push("/pay/"+a);var a},tutorName:t.tutorName,tutorEmail:t.tutorEmail,dateString:n}))})))},Xt=a(506),Jt=["Tutor Did Not Show","Tutor Lacked Expertise","Poor Connection"];var $t=function(e){var t=e.match.params.pastLessonID,a=Object(n.useState)(Object(v.d)((function(e){return e.auth.user}))),c=Object(l.a)(a,2),o=c[0],i=(c[1],Object(n.useState)("")),u=Object(l.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)(""),h=Object(l.a)(d,2),f=h[0],E=h[1],b=Object(n.useState)({}),g=Object(l.a)(b,2),O=g[0],j=g[1],S=Object(n.useState)(!0),y=Object(l.a)(S,2),C=(y[0],y[1]);return Object(n.useEffect)((function(){p.a.get("/users/getPastLessonByID",{params:{pastLessonID:t}}).then((function(e){j(e.data),C(!1)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement(x.a,{container:!0,spacing:2},r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(Pe.a,null,r.a.createElement(q.a,{variant:"h5"},"Course: ",O.course))),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(Pe.a,null,r.a.createElement(q.a,{variant:"h5"},"File a Complaint"),r.a.createElement(Oe.a,{value:s,onChange:function(e){m(e.target.value)},fullWidth:!0}),r.a.createElement(et.a,null,r.a.createElement(Xt.a,null,"Complaint Type"),r.a.createElement(Ke.a,{value:f,onChange:function(e){E(e.target.value)}},Jt.map((function(e){return r.a.createElement(P.a,{value:e},e)}))),r.a.createElement("br",null),r.a.createElement(de.a,{onClick:function(a){var n={pastLessonID:t,studentID:o.id,studentEmail:o.email,tutorID:O.tutorID,tutorEmail:O.tutorEmail,complaintType:f,complaint:s};p.a.post("/users/submitComplaint",n).then((function(t){e.history.push("/ComplaintSuccessful")})).catch((function(e){return console.log(e)}))}},"Submit Complaint")))))};var Qt=function(e){return r.a.createElement(Pe.a,null,r.a.createElement(q.a,{variant:"h5"},"Your complaint was submitted successfully"),r.a.createElement(de.a,{onClick:function(){return e.history.push("/complaints")},variant:"contained"},"Go to my complaints"))};var ea=function(e){return r.a.createElement(Pe.a,null,r.a.createElement(q.a,{variant:"h5"},"With: ",e.tutorEmail),r.a.createElement(q.a,{variant:"h5"},"Submitted on: ",e.dateString),r.a.createElement(q.a,{variant:"h6"},"Type: ",e.complaintType),r.a.createElement(q.a,{variant:"body1"},e.complaint))},ta={month:"long",weekday:"long",day:"numeric"},aa={hour:"numeric",minute:"numeric"};var na=function(e){var t=Object(n.useState)(!0),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)(Object(v.d)((function(e){return e.auth.user}))),h=Object(l.a)(d,2),f=h[0],E=(h[1],Object(n.useState)(!1)),b=Object(l.a)(E,2),g=b[0],O=b[1];return Object(n.useEffect)((function(){p.a.get("/users/getComplaints",{params:{studentID:f.id}}).then((function(e){e.data.length>0?(m(e.data),O(!0),o(!1)):o(!1)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement(x.a,{container:!0,spacing:2},c?r.a.createElement(q.a,{variant:"h5"},"Loading..."):(s.map((function(e){var t=new Date(e.dateSubmitted),a=t.toLocaleDateString("en-CA",ta)+", "+t.toLocaleTimeString("en-CA",aa);return r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(ea,{dateString:a,tutorEmail:e.tutorEmail,complaintType:e.complaintType,complaint:e.complaint}))})),!g&&r.a.createElement(q.a,{variant:"h5"},"You have not filed any complaints, go to your past lessons to file a complaint")))},ra=a(511),ca=a(512),oa=a(267),ia=Object(oa.a)({palette:{type:"dark",primary:{main:"#348feb"},background:{default:"#91908c"}},typography:{fontFamily:"Raleway, Arial"}}),la=Object(Gt.a)("pk_test_51H7oaAFvYqAjSG5i5XoVmFeBNE7rPgvwrXbA9GNOFuFc6RkCevXgfVMLFTVBmMGRKMH7zwOSqOZiO3KvKxBUztBV00j6fEfFKo"),ua=Object(B.a)((function(e){return{content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginTop:64},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:240},header:Object(u.a)(Object(u.a)({display:"flex",alighItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})}}));if(localStorage.jwtToken){var sa=localStorage.jwtToken;E(sa);var ma=h()(sa);L.dispatch(b(ma));var da=Date.now()/1e3;ma.exp<da?(L.dispatch(g()),window.location.href="./login"):!0}var ha=function(){var e=ua(),t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],o=a[1];return r.a.createElement(v.a,{store:L},r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(ra.a,{theme:ia},r.a.createElement(ca.a,null),r.a.createElement(pe,{handleMenu:function(){o((function(e){return!e}))}}),r.a.createElement("main",{className:Object(me.a)(e.content,Object(i.a)({},e.contentShift,c))},r.a.createElement(m.b,{exact:!0,path:"/",component:Ie}),r.a.createElement(m.b,{exact:!0,path:"/register",component:Te}),r.a.createElement(m.b,{exact:!0,path:"/login",component:xe}),r.a.createElement(m.d,null,r.a.createElement(Re,{exact:!0,path:"/dashboard",component:Ae}),r.a.createElement(Re,{exact:!0,path:"/displayLessons",component:qe}),r.a.createElement(Re,{exact:!0,path:"/makePosting",component:it}),r.a.createElement(Re,{exact:!0,path:"/videoChat/:lessonID",component:Ot}),r.a.createElement(Re,{exact:!0,path:"/myPostings",component:St}),r.a.createElement(Re,{exact:!0,path:"/editPosting/:postingID",component:it}),r.a.createElement(Re,{exact:!0,path:"/postLesson/:lessonID",component:It}),r.a.createElement(Re,{exact:!0,path:"/pastLessons",component:_t}),r.a.createElement(Re,{exact:!0,path:"/requestLesson",component:qt}),r.a.createElement(Re,{exact:!0,path:"/request/:tutorID",component:qt}),r.a.createElement(Re,{exact:!0,path:"/accountsettings",component:Ft}),r.a.createElement(Re,{exact:!0,path:"/myRequests",component:Yt}),r.a.createElement(Re,{exact:!0,path:"/pendingPayments",component:Zt}),r.a.createElement(Re,{exact:!0,path:"/complain/:pastLessonID",component:$t}),r.a.createElement(Re,{exact:!0,path:"/complaintSuccessful",component:Qt}),r.a.createElement(Re,{exact:!0,path:"/complaints",component:na}),r.a.createElement(yt.Elements,{stripe:la},r.a.createElement(Re,{exact:!0,path:"/selectBid/:postingID",component:Pt}),r.a.createElement(Re,{exact:!0,path:"/pay/:paymentID",component:zt}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ha,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[286,1,2]]]);
//# sourceMappingURL=main.78ea1637.chunk.js.map